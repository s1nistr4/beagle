"use strict";var fs=require("fs"),acorn=require("acorn"),walk=require("acorn-walk"),hadErrors=!1,lexerFunctions={advance:!0,append:!0,attributesBlock:!0,attrs:!0,blank:!0,block:!0,blockCode:!0,call:!0,case:!0,className:!0,code:!0,colon:!0,comment:!0,conditional:!0,default:!0,doctype:!0,dot:!0,each:!0,eachOf:!0,eos:!0,endInterpolation:!0,extends:!0,filter:!0,id:!0,include:!0,indent:!0,interpolation:!0,isExpression:!0,mixin:!0,mixinBlock:!0,path:!0,pipelessText:!0,prepend:!0,slash:!0,tag:!0,text:!0,textHtml:!0,when:!0,while:!0,yield:!0};function checkDirectCalls(a){var b=a.callee;if("MemberExpression"===b.type&&"ThisExpression"===b.object.type){var c,d=b.property;if(b.computed){if("Literal"!==d.type)return;c=d.value}else c=d.name;lexerFunctions[c]&&(console.log("index.js:"+a.loc.start.line+":"+a.loc.start.column+": Lexer function "+c+" called directly"),hadErrors=!0)}}function checkMissingLexerFunction(a){var b=a.callee;if("MemberExpression"===b.type&&"ThisExpression"===b.object.type){var c,d=b.property;if(b.computed){if("Literal"!==d.type)return;c=d.value}else c=d.name;"callLexerFunction"===c&&a.arguments.length&&"Literal"===a.arguments[0].type&&(c=a.arguments[0].value,lexerFunctions[c]||(console.log("index.js:"+a.loc.start.line+":"+a.loc.start.column+": Lexer function "+c+" not in lexerFunctions list"),hadErrors=!0))}}test("lexer functions",()=>{var a=fs.readFileSync(__dirname+"/../index.js","utf8"),b=acorn.parse(a,{locations:!0});if(walk.simple(b,{CallExpression:function(a){checkDirectCalls(a),checkMissingLexerFunction(a)}}),hadErrors)throw new Error("Problem with lexer functions detected")});