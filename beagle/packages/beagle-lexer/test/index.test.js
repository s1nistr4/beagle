"use strict";var fs=require("fs"),assert=require("assert"),lex=require("../"),dir=__dirname+"/cases/";fs.readdirSync(dir).forEach(function(a){/\.pug$/.test(a)&&test(a,()=>{var b=lex(fs.readFileSync(dir+a,"utf8"),{filename:dir+a});expect(b).toMatchSnapshot()})});var edir=__dirname+"/errors/";fs.readdirSync(edir).forEach(function(a){/\.pug$/.test(a)&&test(a,()=>{var b;try{throw lex(fs.readFileSync(edir+a,"utf8"),{filename:edir+a}),new Error("Expected "+a+" to throw an exception.")}catch(a){if(!a||!a.code||0!==a.code.indexOf("PUG:"))throw a;b={msg:a.msg,code:a.code,line:a.line,column:a.column}}expect(b).toMatchSnapshot()})});