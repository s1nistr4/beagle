"use strict";var error=require("../");describe("with a source",function(){test("and a filename",function(){var a=error("MY_CODE","My message",{line:3,filename:"myfile",src:"foo\nbar\nbaz\nbash\nbing"});expect(a.message).toBe("myfile:3\n    1| foo\n    2| bar\n  > 3| baz\n    4| bash\n    5| bing\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe("myfile"),expect(a.src).toBe("foo\nbar\nbaz\nbash\nbing")}),test("and no filename",function(){var a=error("MY_CODE","My message",{line:3,src:"foo\nbar\nbaz\nbash\nbing"});expect(a.message).toBe("Pug:3\n    1| foo\n    2| bar\n  > 3| baz\n    4| bash\n    5| bing\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe(void 0),expect(a.src).toBe("foo\nbar\nbaz\nbash\nbing")})}),describe("without source",function(){test("and with a filename",function(){var a=error("MY_CODE","My message",{line:3,filename:"myfile"});expect(a.message).toBe("myfile:3\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe("myfile"),expect(a.src).toBe(void 0)}),test("and with no filename",function(){var a=error("MY_CODE","My message",{line:3});expect(a.message).toBe("Pug:3\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe(void 0),expect(a.src).toBe(void 0)})}),describe("with column",function(){test("and with a filename",function(){var a=error("MY_CODE","My message",{line:3,column:2,filename:"myfile",src:"foo\nbar\nbaz\nbash\nbing"});expect(a.message).toBe("myfile:3:2\n    1| foo\n    2| bar\n  > 3| baz\n--------^\n    4| bash\n    5| bing\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe("myfile"),expect(a.src).toBe("foo\nbar\nbaz\nbash\nbing")}),test("and with no filename",function(){var a=error("MY_CODE","My message",{line:3,column:1});expect(a.message).toBe("Pug:3:1\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe(void 0),expect(a.src).toBe(void 0)})}),describe("invalid information",function(){test("negative column",function(){var a=error("MY_CODE","My message",{line:3,column:-1,src:"foo\nbar\nbaz\nbash\nbing"});expect(a.message).toBe("Pug:3:-1\n    1| foo\n    2| bar\n  > 3| baz\n    4| bash\n    5| bing\n\nMy message"),expect(a.code).toBe("PUG:MY_CODE"),expect(a.msg).toBe("My message"),expect(a.line).toBe(3),expect(a.filename).toBe(void 0),expect(a.src).toBe("foo\nbar\nbaz\nbash\nbing")}),test("out of range line",function(){function a(a){var b=error("MY_CODE","My message",{line:a,src:"foo\nbar\nbaz\nbash\nbing"});expect(b.message).toBe("Pug:"+a+"\n\nMy message"),expect(b.code).toBe("PUG:MY_CODE"),expect(b.msg).toBe("My message"),expect(b.line).toBe(a),expect(b.filename).toBe(void 0),expect(b.src).toBe("foo\nbar\nbaz\nbash\nbing")}a(0),a(6)})});