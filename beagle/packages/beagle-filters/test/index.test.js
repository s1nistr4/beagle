"use strict";var fs=require("fs"),assert=require("assert"),handleFilters=require("../").handleFilters,customFilters=require("./custom-filters.js");process.chdir(__dirname+"/../");var testCases;//
testCases=fs.readdirSync(__dirname+"/cases").filter(function(a){return /\.input\.json$/.test(a)}),testCases.forEach(function(a){function b(a){return fs.readFileSync(__dirname+"/cases/"+a,"utf8")}test("cases/"+a,function(){var c=JSON.stringify(handleFilters(JSON.parse(b(a)),customFilters),null,"  ");expect(c).toMatchSnapshot()})}),testCases=fs.readdirSync(__dirname+"/errors").filter(function(a){return /\.input\.json$/.test(a)}),testCases.forEach(function(a){function b(a){return fs.readFileSync(__dirname+"/errors/"+a,"utf8")}test("errors/"+a,function(){var c;try{throw handleFilters(JSON.parse(b(a)),customFilters),new Error("Expected "+a+" to throw an exception.")}catch(a){if(!a||!a.code||0!==a.code.indexOf("PUG:"))throw a;c={msg:a.msg,code:a.code,line:a.line}}expect(c).toMatchSnapshot()})});